<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>매일경제 파일 목록</title>
  <link rel="stylesheet" href="../assets/style/css/style.css">
  <style>
    :root { color-scheme: light; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif; padding: 15px; line-height:1.6; background:#f6f8fb; color:#111827; }
    h1 { margin: 0 0 4px; font-size: 16px; }
    .page-header { margin-bottom: 10px; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; }
    
    .meta { color:#6b7280; font-size: 13px; }
    .layout { --list-width: 25%; display: grid; grid-template-columns: minmax(100px, var(--list-width)) 10px 1fr; gap: 16px; align-items: stretch; height: 96vh}
    .list-panel, .preview-panel { background:#fff; border:1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); } .list-panel{ overflow-y: auto;min-height: 50vh}
    .category { margin-bottom: 18px; }
    .category h2 { margin: 0 0 8px; font-size: 17px; color:#1f2937; }
    ul { margin: 6px 0 12px; padding: 0; }
    li { list-style: none; }
    .file-item { display:flex; gap: 10px; align-items: center; padding: 6px 8px; border-radius: 10px; border:1px solid transparent; transition: background 0.2s, border-color 0.2s; }
    .file-item:hover { background: #f9fafb; border-color:#e5e7eb; }
    .file-item.active { background:#eff6ff; border-color:#bfdbfe; }
    a.file-link { text-decoration: none; color: #2563eb; font-weight: 600; flex:1; word-break: break-all; }
    a.file-link:hover { text-decoration: underline; }
    .preview-btn { border:1px solid #d1d5db; background:#fff; color:#111827; border-radius: 8px; padding:6px 10px; cursor:pointer; font-size: 13px; transition: background 0.2s, border-color 0.2s; }
    .preview-btn:hover { background:#eff6ff; border-color:#bfdbfe; color:#1d4ed8; }
    .divider { position: sticky; top: 50%; width: 10px; cursor: col-resize; border-radius: 12px; background: linear-gradient(180deg, #e5e7eb 0%, #cbd5e1 100%); border:1px solid #d1d5db; box-shadow: inset 0 1px 1px rgba(255,255,255,0.6); transition: background 0.2s, border-color 0.2s; height: 50px;}
    .layout.dragging .divider { background: linear-gradient(180deg, #d1d5db 0%, #9ca3af 100%); border-color:#9ca3af; }
    .preview-panel { position: sticky; top: 12px; }
    .preview-panel h2 { margin: 0 0 10px; font-size: 18px; display:flex; align-items:center; gap:10px; }
    .width-toggle { border:1px solid #d1d5db; background:#f8fafc; color:#111827; border-radius: 999px; padding:6px 12px; cursor:pointer; font-size: 13px; transition: background 0.2s, border-color 0.2s, color 0.2s; display:inline-flex; align-items:center; gap: 6px; }
    .width-toggle:hover { background:#eff6ff; border-color:#bfdbfe; color:#1d4ed8; }
    .width-toggle[aria-pressed="true"] { background:#1d4ed8; color:#fff; border-color:#1d4ed8; box-shadow: 0 4px 10px rgba(37,99,235,0.25); }
    .width-toggle span { font-weight:600; }
    .preview-status { color:#6b7280; font-size: 13px; margin-bottom: 10px; word-break: break-all; }
    #previewFrame { width: 100%; height: 87vh; border:1px solid #e5e7eb; border-radius: 12px; background:#fff; }
    @media (max-width: 900px) {
      .layout { grid-template-columns: 1fr; gap: 12px; }
      .divider { display: none; }
      .preview-panel { position: static; }
    }
  </style>
</head>
<body>
<main class="layout">
<section class="list-panel">
  <div class="page-header">
    <h1>매일경제 HTML 파일 목록</h1>
    <div class="meta">생성일: 2025. 12. 21. 오후 3:31:03</div>
  </div>
<section class="category"><h2>COMPONENTS</h2><ul><li class="file-item"><a class="file-link" href="./COMPONENTS/ai_briefing.html" target="_blank" rel="noopener">ai_briefing.html</a><button type="button" class="preview-btn" data-preview="./COMPONENTS/ai_briefing.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./COMPONENTS/chart_tooltip.html" target="_blank" rel="noopener">chart_tooltip.html</a><button type="button" class="preview-btn" data-preview="./COMPONENTS/chart_tooltip.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./COMPONENTS/font_size_selector.html" target="_blank" rel="noopener">font_size_selector.html</a><button type="button" class="preview-btn" data-preview="./COMPONENTS/font_size_selector.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./COMPONENTS/search_input.html" target="_blank" rel="noopener">search_input.html</a><button type="button" class="preview-btn" data-preview="./COMPONENTS/search_input.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./COMPONENTS/set_period.html" target="_blank" rel="noopener">set_period.html</a><button type="button" class="preview-btn" data-preview="./COMPONENTS/set_period.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./COMPONENTS/share_popup.html" target="_blank" rel="noopener">share_popup.html</a><button type="button" class="preview-btn" data-preview="./COMPONENTS/share_popup.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./COMPONENTS/toast_tooltip.html" target="_blank" rel="noopener">toast_tooltip.html</a><button type="button" class="preview-btn" data-preview="./COMPONENTS/toast_tooltip.html">미리보기</button></li></ul></section><section class="category"><h2>STOCK</h2><ul><li class="file-item"><a class="file-link" href="./STOCK/stock_broadcast_commentary.html" target="_blank" rel="noopener">stock_broadcast_commentary.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_broadcast_commentary.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_broadcast.html" target="_blank" rel="noopener">stock_broadcast.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_broadcast.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_interest_add_industry_all.html" target="_blank" rel="noopener">stock_interest_add_industry_all.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_interest_add_industry_all.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_interest_add_industry_result.html" target="_blank" rel="noopener">stock_interest_add_industry_result.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_interest_add_industry_result.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_interest_add_industry.html" target="_blank" rel="noopener">stock_interest_add_industry.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_interest_add_industry.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_interest_add_result.html" target="_blank" rel="noopener">stock_interest_add_result.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_interest_add_result.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_interest_add.html" target="_blank" rel="noopener">stock_interest_add.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_interest_add.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_interest_list_industry.html" target="_blank" rel="noopener">stock_interest_list_industry.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_interest_list_industry.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_interest_list.html" target="_blank" rel="noopener">stock_interest_list.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_interest_list.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_interest.html" target="_blank" rel="noopener">stock_interest.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_interest.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_list.html" target="_blank" rel="noopener">stock_list.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_list.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_report.html" target="_blank" rel="noopener">stock_report.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_report.html">미리보기</button></li><li class="file-item"><a class="file-link" href="./STOCK/stock_timeline.html" target="_blank" rel="noopener">stock_timeline.html</a><button type="button" class="preview-btn" data-preview="./STOCK/stock_timeline.html">미리보기</button></li></ul></section><section class="category"><h2>pages</h2><ul><li class="file-item"><a class="file-link" href="./images.html" target="_blank" rel="noopener">images.html</a><button type="button" class="preview-btn" data-preview="./images.html">미리보기</button></li></ul></section>    </section>
    <div class="divider" role="separator" aria-orientation="vertical" aria-label="목록과 미리보기 사이 조절 막대"></div>
    <section class="preview-panel" aria-live="polite">
      <h2>미리보기 <button type="button" id="widthToggle" class="width-toggle" aria-pressed="false"><span>모바일보기390px</span></button></h2>
      <div id="previewStatus" class="preview-status">왼쪽 목록의 '미리보기' 버튼을 클릭하면 이 영역에서 바로 확인할 수 있어요.</div>
      <iframe id="previewFrame" title="파일 미리보기" sandbox="allow-same-origin allow-forms allow-scripts allow-popups"></iframe>
    </section>
  </main>
  <script>
    const previewFrame = document.getElementById('previewFrame');
    const widthToggle = document.getElementById('widthToggle');
    const previewStatus = document.getElementById('previewStatus');
    const fileItems = Array.from(document.querySelectorAll('.file-item'));
    let isFixedWidth = false;

    const applyPreviewWidth = () => {
      if (isFixedWidth) {
        previewFrame.style.width = '390px';
        previewFrame.style.maxWidth = '100%';
        widthToggle.setAttribute('aria-pressed', 'true');
        widthToggle.innerHTML = '<span>모바일보기390px</span>';
      } else {
        previewFrame.style.width = '100%';
        previewFrame.style.maxWidth = '100%';
        widthToggle.setAttribute('aria-pressed', 'false');
        widthToggle.innerHTML = '<span>모바일보기390px</span>';
      }
    };

    widthToggle.addEventListener('click', () => {
      isFixedWidth = !isFixedWidth;
      applyPreviewWidth();
    });

    applyPreviewWidth();

    const setActiveItem = (element) => {
      fileItems.forEach((item) => item.classList.remove('active'));
      if (element) {
        element.classList.add('active');
      }
    };

    document.querySelectorAll('.file-link').forEach((link) => {
      link.addEventListener('click', () => {
        setActiveItem(link.closest('.file-item'));
      });
    });

    document.querySelectorAll('.preview-btn').forEach((btn) => {
      btn.addEventListener('click', (event) => {
        event.preventDefault();
        const url = btn.dataset.preview;
        const parentItem = btn.closest('.file-item');
        setActiveItem(parentItem);
        previewFrame.src = url;
        const cleanLabel = url.startsWith('./') ? url.slice(2) : url;
        previewStatus.textContent = cleanLabel;
        previewFrame.focus();
        previewFrame.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });

    const layout = document.querySelector('.layout');
    const divider = document.querySelector('.divider');
    const minPercent = 25;
    const maxPercent = 75;

    const clampPercent = (value) => Math.min(maxPercent, Math.max(minPercent, value));
    const updateWidth = (percent) => {
      layout.style.setProperty('--list-width', clampPercent(percent) + '%');
    };

    divider.addEventListener('pointerdown', (event) => {
      divider.setPointerCapture(event.pointerId);
      layout.classList.add('dragging');
    });

    divider.addEventListener('pointermove', (event) => {
      if (!divider.hasPointerCapture(event.pointerId)) return;
      const rect = layout.getBoundingClientRect();
      const relativeX = event.clientX - rect.left;
      const percent = (relativeX / rect.width) * 100;
      updateWidth(percent);
    });

    const endDrag = (event) => {
      if (divider.hasPointerCapture(event.pointerId)) {
        divider.releasePointerCapture(event.pointerId);
      }
      layout.classList.remove('dragging');
    };

    divider.addEventListener('pointerup', endDrag);
    divider.addEventListener('pointercancel', endDrag);
  </script>
  </body></html>