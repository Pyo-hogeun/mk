<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../../assets/style/css/style.css">
</head>

<body class="">
  <div class="container">
    <div class="agent-header">
      <div class="agent-brand">
        <div class="brand-icon">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.4785 2.76119C10.18 2.59839 9.8193 2.59839 9.52082 2.76119L2.44315 6.62174C1.74815 7.00083 1.74833 7.99885 2.44346 8.3777L4.16634 9.31667V13.7232C4.16634 14.089 4.36615 14.4257 4.68731 14.601L9.52065 17.2386C9.81922 17.4015 10.1801 17.4015 10.4787 17.2386L15.312 14.601C15.6332 14.4257 15.833 14.089 15.833 13.7232V9.31667L17.4997 8.40833V13.3333C17.4997 13.7936 17.8728 14.1667 18.333 14.1667C18.7932 14.1667 19.1663 13.7936 19.1663 13.3333V8.09363C19.1663 7.72769 18.9665 7.39097 18.6452 7.21574L10.4785 2.76119ZM15.683 7.5L9.99967 10.6L4.31634 7.5L9.99967 4.4L15.683 7.5ZM14.1663 13.3333L9.99967 15.6L5.83301 13.3333V10.225L9.52045 12.2383C9.81912 12.4014 10.1802 12.4014 10.4789 12.2383L14.1663 10.225V13.3333Z" fill="white"/>
          </svg>
        </div>
        <div class="brand-title">
          경제교육 AI
          <button type="button" class="btn-toggle" data-agent-selector-toggle>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M0 8C0 3.58172 3.58172 0 8 0H12C16.4183 0 20 3.58172 20 8V12C20 16.4183 16.4183 20 12 20H8C3.58172 20 0 16.4183 0 12V8Z"
                fill="currentColor" />
              <path
                d="M5.58542 7.74378C5.9107 7.4162 6.44024 7.41526 6.76667 7.74169L9.29289 10.2679C9.68342 10.6584 10.3166 10.6584 10.7071 10.2679L13.2333 7.7417C13.5598 7.41526 14.0893 7.4162 14.4146 7.74378C14.7382 8.06973 14.7373 8.59606 14.4125 8.92086L10.7071 12.6263C10.3166 13.0168 9.68342 13.0168 9.29289 12.6263L5.5875 8.92086C5.2627 8.59606 5.26177 8.06973 5.58542 7.74378Z"
                fill="currentColor" />
            </svg>
          </button>

        </div>

        <!-- Agent Selection Dropdown -->
        <div class="agent-selector-dropdown" data-agent-selector-dropdown aria-hidden="true">
          <div class="agent-selector-option active" data-agent="edu">
            <div class="agent-selector-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.4785 2.76119C10.18 2.59839 9.8193 2.59839 9.52082 2.76119L2.44315 6.62174C1.74815 7.00083 1.74833 7.99885 2.44346 8.3777L4.16634 9.31667V13.7232C4.16634 14.089 4.36615 14.4257 4.68731 14.601L9.52065 17.2386C9.81922 17.4015 10.1801 17.4015 10.4787 17.2386L15.312 14.601C15.6332 14.4257 15.833 14.089 15.833 13.7232V9.31667L17.4997 8.40833V13.3333C17.4997 13.7936 17.8728 14.1667 18.333 14.1667C18.7932 14.1667 19.1663 13.7936 19.1663 13.3333V8.09363C19.1663 7.72769 18.9665 7.39097 18.6452 7.21574L10.4785 2.76119ZM15.683 7.5L9.99967 10.6L4.31634 7.5L9.99967 4.4L15.683 7.5ZM14.1663 13.3333L9.99967 15.6L5.83301 13.3333V10.225L9.52045 12.2383C9.81912 12.4014 10.1802 12.4014 10.4789 12.2383L14.1663 10.225V13.3333Z" fill="white"/>
              </svg>
                
            </div>
            <div class="agent-selector-label">경제교육 AI</div>
          </div>
          <div class="agent-selector-option" data-agent="news">
            <div class="agent-selector-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.50033 5.83333C2.96056 5.83333 3.33366 6.20643 3.33366 6.66667V15.8333H15.0003C15.4606 15.8333 15.8337 16.2064 15.8337 16.6667C15.8337 17.1269 15.4606 17.5 15.0003 17.5H3.33366C1.66699 17.5 1.66699 15.8333 1.66699 15.8333V6.66667C1.66699 6.20643 2.04009 5.83333 2.50033 5.83333ZM17.5003 4.16667V12.5H6.66699V4.16667H17.5003ZM17.7503 2.5H6.41699C5.63366 2.5 5.00033 3.08333 5.00033 3.79167V12.875C5.00033 13.5917 5.63366 14.1667 6.41699 14.1667H17.7503C18.5337 14.1667 19.167 13.5917 19.167 12.875V3.79167C19.167 3.08333 18.5337 2.5 17.7503 2.5ZM7.50033 6C7.50033 5.44772 7.94804 5 8.50033 5H9.00033C9.55261 5 10.0003 5.44772 10.0003 6V8.16667C10.0003 8.71895 9.55261 9.16667 9.00033 9.16667H8.50033C7.94804 9.16667 7.50033 8.71895 7.50033 8.16667V6ZM16.667 10.8333C16.667 11.2936 16.2939 11.6667 15.8337 11.6667H8.33366C7.87342 11.6667 7.50033 11.2936 7.50033 10.8333C7.50033 10.3731 7.87342 10 8.33366 10H15.8337C16.2939 10 16.667 10.3731 16.667 10.8333ZM16.667 5.83333C16.667 6.29357 16.2939 6.66667 15.8337 6.66667H12.5003C12.0401 6.66667 11.667 6.29357 11.667 5.83333C11.667 5.3731 12.0401 5 12.5003 5H15.8337C16.2939 5 16.667 5.3731 16.667 5.83333ZM16.667 8.33333C16.667 8.79357 16.2939 9.16667 15.8337 9.16667H12.5003C12.0401 9.16667 11.667 8.79357 11.667 8.33333C11.667 7.8731 12.0401 7.5 12.5003 7.5H15.8337C16.2939 7.5 16.667 7.8731 16.667 8.33333Z" fill="white"/>
              </svg>
            </div>
            <div class="agent-selector-label">MAI 뉴스 에이전트</div>
          </div>
          <div class="agent-selector-option" data-agent="stock">
            <div class="agent-selector-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.29199 14.7916C2.63717 15.1368 3.19681 15.1368 3.54199 14.7916L7.91699 10.4166L10.4997 12.9994C10.9068 13.4065 11.5727 13.3866 11.9548 12.956L17.8154 6.35077C18.1068 6.02237 18.0928 5.52406 17.7834 5.21251C17.445 4.8717 16.8891 4.88746 16.5705 5.24691L11.2503 11.25L8.6241 8.62375C8.23357 8.23323 7.60041 8.23323 7.20989 8.62375L2.29199 13.5416C1.94681 13.8868 1.94681 14.4465 2.29199 14.7916Z" fill="white"/>
              </svg>
            </div>
            <div class="agent-selector-label">MAI 증권 에이전트</div>
          </div>
        </div>
      </div>
      <div class="fn-buttons">
        <button type="button" class="btn btn-storage">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17 17C17 17.5523 16.5523 18 16 18H2C1.44772 18 1 17.5523 1 17V8C1 7.44771 1.44772 7 2 7C2.55228 7 3 7.44772 3 8V15C3 15.5523 3.44772 16 4 16H14C14.5523 16 15 15.5523 15 15V8C15 7.44772 15.4477 7 16 7C16.5523 7 17 7.44772 17 8V17ZM0 1C0 0.447715 0.447715 0 1 0H17C17.5523 0 18 0.447715 18 1V5C18 5.55228 17.5523 6 17 6H1C0.447716 6 0 5.55228 0 5V1ZM6.5 8H11.5C11.78 8 12 8.22 12 8.5V9C12 9.55229 11.5523 10 11 10H7C6.44772 10 6 9.55228 6 9V8.5C6 8.22 6.22 8 6.5 8ZM3 2C2.44772 2 2 2.44772 2 3C2 3.55228 2.44772 4 3 4H15C15.5523 4 16 3.55228 16 3C16 2.44772 15.5523 2 15 2H3Z" fill="currentColor"/>
            </svg>
        </button>
        <button type="button" class="btn btn-setting">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 11.25C10.2426 11.25 11.25 10.2426 11.25 9C11.25 7.75736 10.2426 6.75 9 6.75C7.75736 6.75 6.75 7.75736 6.75 9C6.75 10.2426 7.75736 11.25 9 11.25Z" fill="currentColor"/>
            <path d="M7.875 17.25C7.6875 17.25 7.5375 17.1188 7.5 16.9313L7.2375 15.0375C7.2 14.775 7.0125 14.55 6.75 14.4375C6.46875 14.3063 6.2 14.1563 5.93125 14.0063C5.6875 13.875 5.4 13.8375 5.15625 13.9313L3.375 14.625C3.1875 14.7 2.9625 14.625 2.85 14.4563L1.5 12.3188C1.3875 12.15 1.425 11.9438 1.5375 11.8125L2.99843 10.5234C3.19687 10.3594 3.30156 10.1016 3.28125 9.84375L3.25312 9.42188C3.25156 9.38906 3.25156 9.35625 3.25469 9.32344L3.28281 8.89219C3.30312 8.63281 3.19687 8.37344 2.99687 8.21094L1.5375 6.92188C1.425 6.79062 1.3875 6.58438 1.5 6.41562L2.85 4.27813C2.9625 4.10938 3.1875 4.02188 3.375 4.10938L5.16094 4.79531C5.40156 4.88906 5.66562 4.85156 5.90625 4.71094C6.17344 4.56094 6.44062 4.41094 6.71875 4.27969C6.97656 4.16719 7.16406 3.94219 7.20156 3.67969L7.5 1.78125C7.5375 1.59375 7.6875 1.46094 7.875 1.46094H10.125C10.3125 1.46094 10.4625 1.59375 10.5 1.78125L10.7625 3.67969C10.8 3.94219 10.9875 4.16719 11.25 4.27969C11.5312 4.41094 11.7984 4.56094 12.0672 4.71094C12.3109 4.85156 12.5984 4.88906 12.8391 4.79531L14.625 4.10938C14.8125 4.02188 15.0375 4.10938 15.15 4.27813L16.5 6.41562C16.6125 6.58438 16.575 6.79062 16.4625 6.92188L15.0016 8.21094C14.8031 8.37344 14.6984 8.63281 14.7188 8.89219L14.7469 9.32344C14.7484 9.35625 14.7484 9.38906 14.7453 9.42188L14.7172 9.84375C14.6969 10.1016 14.8031 10.3594 15.0031 10.5234L16.4625 11.8125C16.575 11.9438 16.6125 12.15 16.5 12.3188L15.15 14.4563C15.0375 14.625 14.8125 14.7 14.625 14.625L12.8391 13.9313C12.5984 13.8375 12.3344 13.875 12.0938 14.0063C11.8266 14.1563 11.5594 14.3063 11.2812 14.4375C11.0234 14.55 10.8359 14.775 10.7984 15.0375L10.5 16.9313C10.4625 17.1188 10.3125 17.25 10.125 17.25H7.875Z" stroke="currentColor" stroke-width="1.5"/>
          </svg>
        </button>
      </div>
      <nav class="nav-tabs">
        <div class="nav-tabs-container">
          <div class="nav-tab" data-target="content__today-study">
            <div class="tab-label">오늘의 학습</div>
          </div>
          <div class="nav-tab active" data-target="content__ai-tutor">
            <div class="tab-label">AI 튜터</div>
          </div>
        </div>
      </nav>
    </div>

    <div class="content-wrapper">
      <div class="content__today-study content-section">
        <!-- 오늘의 학습 -->
      </div>
      <div class="content__ai-tutor content-section is-active">
        <!-- ai튜터 -->
        <div class="tutor__wrapper">
          <div class="my-study__header">
            <div class="my-study__title">
              AI 튜터
              <i class="notice__ai-brief" role="button" tabindex="0" data-bottom-sheet-target="ai-briefing-sheet" aria-label="AI 튜터">
                <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M13.2 18C13.2 18.4418 13.5582 18.8 14 18.8C14.4418 18.8 14.8 18.4418 14.8 18C14.8 17.5582 14.4418 17.2 14 17.2C13.5582 17.2 13.2 17.5582 13.2 18ZM14 6C12.9494 6 11.9091 6.20693 10.9385 6.60896C9.96793 7.011 9.08601 7.60028 8.34315 8.34315C6.84285 9.84344 6 11.8783 6 14C6 16.1217 6.84285 18.1566 8.34315 19.6569C9.08601 20.3997 9.96793 20.989 10.9385 21.391C11.9091 21.7931 12.9494 22 14 22C16.1217 22 18.1566 21.1571 19.6569 19.6569C21.1571 18.1566 22 16.1217 22 14C22 12.9494 21.7931 11.9091 21.391 10.9385C20.989 9.96793 20.3997 9.08601 19.6569 8.34315C18.914 7.60028 18.0321 7.011 17.0615 6.60896C16.0909 6.20693 15.0506 6 14 6ZM14 20.4C10.472 20.4 7.6 17.528 7.6 14C7.6 10.472 10.472 7.6 14 7.6C17.528 7.6 20.4 10.472 20.4 14C20.4 17.528 17.528 20.4 14 20.4ZM14 9.2C13.1513 9.2 12.3374 9.53714 11.7373 10.1373C11.3276 10.5469 11.0404 11.0563 10.8995 11.6083C10.7902 12.0364 11.1582 12.4 11.6 12.4C12.0418 12.4 12.3841 12.0206 12.5959 11.6329C12.6683 11.5003 12.7598 11.3774 12.8686 11.2686C13.1687 10.9686 13.5757 10.8 14 10.8C14.4243 10.8 14.8313 10.9686 15.1314 11.2686C15.4314 11.5687 15.6 11.9757 15.6 12.4C15.6 13.8156 13.7214 13.8222 13.2883 15.6055C13.184 16.0349 13.5582 16.4 14 16.4C14.4418 16.4 14.7814 16.0236 14.9738 15.6258C15.5253 14.4853 17.2 14.0707 17.2 12.4C17.2 11.5513 16.8629 10.7374 16.2627 10.1373C15.6626 9.53714 14.8487 9.2 14 9.2Z" fill="#7B7B7B"></path>
                </svg>
              </i>
            </div>

            <div class="level-tag">초등학생</div>
          </div>

          <div class="tutor__description">
            최근 경제 뉴스를 토대로 AI 선생님과 대화하며 쉽게 경제를 배울 수 있습니다.
          </div>

          <div class="notice-card">
            <div class="notice-card__icon">
              <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.50034 11C10.091 11 13.0003 8.5375 13.0003 5.5C13.0003 2.4625 10.091 0 6.50034 0C6.50034 0 0.000342014 2.4625 0.000342014 5.5C0.000342014 6.70625 0.459717 7.82187 1.23784 8.73125C1.12847 9.025 0.965967 9.28438 0.794092 9.50313C0.644092 9.69688 0.490967 9.84688 0.378467 9.95C0.322217 10 0.275342 10.0406 0.244092 10.0656C0.228467 10.0781 0.215967 10.0875 0.209717 10.0906L0.203467 10.0969C0.031592 10.225 -0.043408 10.45 0.025342 10.6531C0.094092 10.8562 0.284717 11 0.500342 11C1.18159 11 1.86909 10.825 2.44097 10.6094C2.72847 10.5 2.99722 10.3781 3.23159 10.2531C4.19097 10.7281 5.30659 11 6.50034 11ZM14.0003 5.5C14.0003 9.00937 10.9035 11.6531 7.23472 11.9688C7.99409 14.2937 10.5128 16 13.5003 16C14.6941 16 15.8097 15.7281 16.7722 15.2531C17.0066 15.3781 17.2722 15.5 17.5597 15.6094C18.1316 15.825 18.8191 16 19.5003 16C19.716 16 19.9097 15.8594 19.9753 15.6531C20.041 15.4469 19.9691 15.2219 19.7941 15.0938L19.7878 15.0875C19.7816 15.0812 19.7691 15.075 19.7535 15.0625C19.7222 15.0375 19.6753 15 19.6191 14.9469C19.5066 14.8438 19.3535 14.6938 19.2035 14.5C19.0316 14.2812 18.8691 14.0187 18.7597 13.7281C19.5378 12.8219 19.9972 11.7063 19.9972 10.4969C19.9972 7.59687 17.3441 5.21875 13.9785 5.0125C13.991 5.17188 13.9972 5.33437 13.9972 5.49687L14.0003 5.5Z" fill="#FF7A00"/>
              </svg>

            </div>
            <div class="notice-card__content">
              각 뉴스카드를 클릭시, AI선생님과 해당 주제로 대화하며 학습이 가능합니다.
            </div>
          </div>

          <div class="learning-topic__wrapper">
            <div class="learning-topic-card">
              <div class="topic-category-badge">사회</div>
              <div class="topic-title">편의점 초저가 전쟁으로 배우는 '시장 경쟁'과 '미끼 상품'</div>
              <div class="topic-date">2025.10.22</div>
            </div>
            <div class="learning-topic-card">
              <div class="topic-category-badge">사회</div>
              <div class="topic-title">편의점 초저가 전쟁으로 배우는 '시장 경쟁'과 '미끼 상품'</div>
              <div class="topic-date">2025.10.22</div>
            </div>
            <div class="learning-topic-card">
              <div class="topic-category-badge">경제</div>
              <div class="topic-title">전세는 왜 점점 사라지고 월세가 늘어날까요?</div>
              <div class="topic-date">2025.10.22</div>
            </div>
          </div>


          <button type="button" class="btn-refresh-news">
            새로운 뉴스 불러오기 <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14.0001 5.83329V3.58084C14.0001 2.68994 12.9229 2.24377 12.293 2.87373L8.87385 6.29285C8.48333 6.68338 8.48333 7.31654 8.87385 7.70707L12.293 11.1262C12.9229 11.7562 14.0001 11.31 14.0001 10.4191V8.16663C15.8566 8.16663 17.6371 8.90412 18.9498 10.2169C20.2626 11.5296 21.0001 13.3101 21.0001 15.1666C21.0001 17.0231 20.2626 18.8036 18.9498 20.1164C17.6371 21.4291 15.8566 22.1666 14.0001 22.1666C12.1436 22.1666 10.3631 21.4291 9.05033 20.1164C7.97479 19.0408 7.28539 17.6513 7.07137 16.1633C6.99274 15.6166 6.55237 15.1666 6.00008 15.1666H5.66675C5.11446 15.1666 4.6612 15.6157 4.72024 16.1648C4.94696 18.2731 5.88697 20.2528 7.40042 21.7663C9.15076 23.5166 11.5247 24.5 14.0001 24.5C16.4754 24.5 18.8494 23.5166 20.5997 21.7663C22.3501 20.016 23.3334 17.642 23.3334 15.1666C23.3334 12.6913 22.3501 10.3173 20.5997 8.56696C18.8494 6.81662 16.4754 5.83329 14.0001 5.83329Z" fill="currentColor"></path>
              </svg>
              
          </button>

        </div>
      </div>

    </div>
  </div>

  <!-- AI Tutor Settings Popup -->
  <div class="ai-tutor-settings-popup is-active" id="ai-tutor-settings-popup">
    <div class="ai-tutor-settings-popup__dim"></div>
    <div class="ai-tutor-settings-popup__dialog">
      <div class="ai-tutor-settings-popup__content">
        <div class="settings-header">
          <h2 class="settings-title">AI튜터 설정</h2>
          <button type="button" class="btn-close" aria-label="닫기">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M16.4111 13.2928C16.0206 13.6833 16.0206 14.3165 16.4111 14.707L21.8744 20.1704C22.062 20.3579 22.1673 20.6122 22.1673 20.8775V21.1666C22.1673 21.7189 21.7196 22.1666 21.1673 22.1666H20.8782C20.613 22.1666 20.3586 22.0612 20.1711 21.8737L14.7078 16.4104C14.3172 16.0198 13.6841 16.0198 13.2935 16.4104L7.83021 21.8737C7.64267 22.0612 7.38832 22.1666 7.1231 22.1666H6.83398C6.2817 22.1666 5.83398 21.7189 5.83398 21.1666V20.8775C5.83398 20.6123 5.93934 20.3579 6.12688 20.1704L11.5902 14.707C11.9807 14.3165 11.9807 13.6833 11.5902 13.2928L6.12688 7.82948C5.93934 7.64194 5.83398 7.38759 5.83398 7.12237V6.83325C5.83398 6.28097 6.2817 5.83325 6.83398 5.83325H7.1231C7.38832 5.83325 7.64267 5.93861 7.83021 6.12615L13.2935 11.5895C13.6841 11.98 14.3172 11.98 14.7078 11.5895L20.1711 6.12615C20.3586 5.93861 20.613 5.83325 20.8782 5.83325H21.1673C21.7196 5.83325 22.1673 6.28097 22.1673 6.83325V7.12237C22.1673 7.38759 22.062 7.64194 21.8744 7.82948L16.4111 13.2928Z" fill="currentColor"/>
            </svg>
          </button>
        </div>

        <div class="settings-section">
          <div class="section-label">나이 구분</div>
          <div class="age-selection-buttons">
            <button type="button" class="age-btn active">초등학생</button>
            <button type="button" class="age-btn">중학생</button>
            <button type="button" class="age-btn">고등학생</button>
            <button type="button" class="age-btn">일반인</button>
            <button type="button" class="age-btn">전문가</button>
          </div>
        </div>

        <div class="settings-actions">
          <button type="button" class="btn-cancel">취소</button>
          <button type="button" class="btn-save">저장</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    //Agent Selector Dropdown
    (() => {
      const toggleBtn = document.querySelector('[data-agent-selector-toggle]');
      const dropdown = document.querySelector('[data-agent-selector-dropdown]');
      const options = document.querySelectorAll('.agent-selector-option');
      const brandTitle = document.querySelector('.brand-title');
      const brandIconContainer = document.querySelector('.brand-icon');

      if (!toggleBtn || !dropdown || !options.length) return;

      const iconMap = {
        edu: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10.4785 2.76119C10.18 2.59839 9.8193 2.59839 9.52082 2.76119L2.44315 6.62174C1.74815 7.00083 1.74833 7.99885 2.44346 8.3777L4.16634 9.31667V13.7232C4.16634 14.089 4.36615 14.4257 4.68731 14.601L9.52065 17.2386C9.81922 17.4015 10.1801 17.4015 10.4787 17.2386L15.312 14.601C15.6332 14.4257 15.833 14.089 15.833 13.7232V9.31667L17.4997 8.40833V13.3333C17.4997 13.7936 17.8728 14.1667 18.333 14.1667C18.7932 14.1667 19.1663 13.7936 19.1663 13.3333V8.09363C19.1663 7.72769 18.9665 7.39097 18.6452 7.21574L10.4785 2.76119ZM15.683 7.5L9.99967 10.6L4.31634 7.5L9.99967 4.4L15.683 7.5ZM14.1663 13.3333L9.99967 15.6L5.83301 13.3333V10.225L9.52045 12.2383C9.81912 12.4014 10.1802 12.4014 10.4789 12.2383L14.1663 10.225V13.3333Z" fill="white"/>
        </svg>
        `,
        news: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.50033 5.83333C2.96056 5.83333 3.33366 6.20643 3.33366 6.66667V15.8333H15.0003C15.4606 15.8333 15.8337 16.2064 15.8337 16.6667C15.8337 17.1269 15.4606 17.5 15.0003 17.5H3.33366C1.66699 17.5 1.66699 15.8333 1.66699 15.8333V6.66667C1.66699 6.20643 2.04009 5.83333 2.50033 5.83333ZM17.5003 4.16667V12.5H6.66699V4.16667H17.5003ZM17.7503 2.5H6.41699C5.63366 2.5 5.00033 3.08333 5.00033 3.79167V12.875C5.00033 13.5917 5.63366 14.1667 6.41699 14.1667H17.7503C18.5337 14.1667 19.167 13.5917 19.167 12.875V3.79167C19.167 3.08333 18.5337 2.5 17.7503 2.5ZM7.50033 6C7.50033 5.44772 7.94804 5 8.50033 5H9.00033C9.55261 5 10.0003 5.44772 10.0003 6V8.16667C10.0003 8.71895 9.55261 9.16667 9.00033 9.16667H8.50033C7.94804 9.16667 7.50033 8.71895 7.50033 8.16667V6ZM16.667 10.8333C16.667 11.2936 16.2939 11.6667 15.8337 11.6667H8.33366C7.87342 11.6667 7.50033 11.2936 7.50033 10.8333C7.50033 10.3731 7.87342 10 8.33366 10H15.8337C16.2939 10 16.667 10.3731 16.667 10.8333ZM16.667 5.83333C16.667 6.29357 16.2939 6.66667 15.8337 6.66667H12.5003C12.0401 6.66667 11.667 6.29357 11.667 5.83333C11.667 5.3731 12.0401 5 12.5003 5H15.8337C16.2939 5 16.667 5.3731 16.667 5.83333ZM16.667 8.33333C16.667 8.79357 16.2939 9.16667 15.8337 9.16667H12.5003C12.0401 9.16667 11.667 8.79357 11.667 8.33333C11.667 7.8731 12.0401 7.5 12.5003 7.5H15.8337C16.2939 7.5 16.667 7.8731 16.667 8.33333Z" fill="white"/>
        </svg>`,
        stock: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.29199 14.7916C2.63717 15.1368 3.19681 15.1368 3.54199 14.7916L7.91699 10.4166L10.4997 12.9994C10.9068 13.4065 11.5727 13.3866 11.9548 12.956L17.8154 6.35077C18.1068 6.02237 18.0928 5.52406 17.7834 5.21251C17.445 4.8717 16.8891 4.88746 16.5705 5.24691L11.2503 11.25L8.6241 8.62375C8.23357 8.23323 7.60041 8.23323 7.20989 8.62375L2.29199 13.5416C1.94681 13.8868 1.94681 14.4465 2.29199 14.7916Z" fill="white"/>
        </svg>`
      };

      const labelMap = {
        edu: '경제교육 AI',
        news: 'MAI 뉴스 에이전트',
        stock: 'MAI 증권 에이전트'
      };

      const toggleDropdown = (show) => {
        const isOpen = show !== undefined ? show : dropdown.getAttribute('aria-hidden') === 'true';
        dropdown.setAttribute('aria-hidden', !isOpen);
      };

      const closeDropdown = () => {
        toggleDropdown(false);
        console.log('닫기');
      };

      toggleBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleDropdown();
      });

      options.forEach((option) => {
        option.addEventListener('click', () => {
          const agentType = option.dataset.agent;

          // Update active state
          options.forEach(opt => opt.classList.remove('active'));
          option.classList.add('active');

          // Update brand title and icon
          const titleText = brandTitle.childNodes[0];
          if (titleText.nodeType === Node.TEXT_NODE) {
            titleText.textContent = labelMap[agentType];
          }

          if (brandIconContainer) {
            brandIconContainer.innerHTML = iconMap[agentType];
          }

          closeDropdown();
        });
      });

      // Close dropdown when clicking outside
      document.addEventListener('click', (e) => {
        if (!dropdown.contains(e.target) && !toggleBtn.contains(e.target)) {
          closeDropdown();
        }
      });

      // Close dropdown on escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && dropdown.getAttribute('aria-hidden') === 'false') {
          closeDropdown();
        }
      });
    })();

    // AI Tutor Settings Popup
    (() => {
      const settingsBtn = document.querySelector('.btn-setting');
      const popup = document.getElementById('ai-tutor-settings-popup');
      const closeBtn = popup?.querySelector('.btn-close');
      const cancelBtn = popup?.querySelector('.btn-cancel');
      const saveBtn = popup?.querySelector('.btn-save');
      const backdrop = popup?.querySelector('.ai-tutor-settings-popup__dim');
      const ageButtons = popup?.querySelectorAll('.age-btn');
      const levelTag = document.querySelector('.level-tag');

      if (!popup || !settingsBtn) return;

      const openPopup = () => {
        popup.classList.add('is-active');
        document.body.classList.add('ai-tutor-settings-open');
      };

      const closePopup = () => {
        popup.classList.remove('is-active');
        document.body.classList.remove('ai-tutor-settings-open');
      };

      // Open popup when settings button is clicked
      settingsBtn.addEventListener('click', openPopup);

      // Close popup handlers
      closeBtn?.addEventListener('click', closePopup);
      cancelBtn?.addEventListener('click', closePopup);
      backdrop?.addEventListener('click', closePopup);

      // Age button selection
      ageButtons?.forEach(btn => {
        btn.addEventListener('click', () => {
          ageButtons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
        });
      });

      // Save button handler
      saveBtn?.addEventListener('click', () => {
        const selectedAge = popup.querySelector('.age-btn.active')?.textContent;
        if (selectedAge && levelTag) {
          levelTag.textContent = selectedAge;
        }
        closePopup();
      });

      // Close on Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && popup.classList.contains('is-active')) {
          closePopup();
        }
      });
    })();

  </script>
  <script src="../../assets/dist/js/bundle.js"></script>
</body>
</html>
